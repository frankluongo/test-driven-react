# Test Driven React

## Chapter 1: TDD With Jest

### Introducing Jest

#### Running Package Binaries With NPX

- `NPX` allows you to run packages without having to install them globally

#### Writing a Test

- `describe()` declares a test suite, which is a grouping of tests. Its first argument is a name, and the second is a function containing one or more tests.
- `it()` declares a test. Its first argument is a name, and the second is a function with the actual test code.
- `expect()` creates an assertion. It takes a single argument, typically a value generated by the code being tested, and returns an object that exposes a set of matcher functions.
- `toBe()` is a matcher that performs a strict equality test between the value being tested (the expect() argument) and the expected value (its own argument). — Basically, "are you this thing I'm looking for?"
- `toEqual()` differs from `toBe()` in that toBe expects strict equality and toEqual checks for deep object equality. – Basically, "are you exactly the same as this thing I'm looking for?"

Test Suites (`describe()`) are typically nouns, the test name (`it()`) is a verb. Combined they make a sentence, making it easier to understand.

### The Tao of Test-Driven Development

#### Measuring Test Coverage

- `Branches` refer to possible outcomes of `if/else` statements

### The Mantra: Red, Green, Repeat

Write tests first yo

## Chapter 2: Integrated Tooling With VSCode

### Editing With VS Code

#### User Settings

Use this setting to see defaults and your overrides

```
  "workbench.settings.useSplitJSON": true
```

### Checking Code Quality With ESLint

#### Installation & Configuation

- Install ESLint: `npm install --save-dev eslint`
- Create an `.eslintrc.js` file

Example:

```js
module.exports = {
  extends: ["eslint:recommended"],
};
```

- ESLint by default will try to use ES5, and doesn't understand modules so make sure to add those

#### Extending An ESLint Config

- You can add plugins like `eslint-plugin-jest` to help ESLint understand different file types

#### Integrating ESLint with VSCode

- Add the `ESLint` Extension by Dirk Baeumer.
- You can avoid seeing ESLint errors until you save by using `​"eslint.run"​: ​"onSave"` in your editor settings

### Beautifying Code With Prettier

- Make sure `Prettier` and `ESLint` work together by using `npm​​ ​​install​​ ​​--save-dev​​ ​​prettier-eslint-cli`

#### Integrating Prettier With VSCode

- Install the “Prettier” extension by Esben Petersen
- To recognize the connection to ESLint, add `"prettier.eslintIntegration"​: ​true​` to your settings

### Real-Time Testing With Wallaby

- Skipped because I'm not about to pay \$120/year for this

### Mantra: Live In The Code

Avoid context switching as much as possible.

## Chapter 3: Testing React With Enzyme

### Starting a React Project

- This stuff is pretty straightforward

### Testing Simple Components With Enzyme

### Adding a Jest Setup File

- By default, Jest looks for a `jest.config.js` file at the root of a project
- You can then use `setupFilesAfterEnv: ["./point/to/file.js"]` to set up a setup file

### Testing Nested Markup

### Testing Stateful Components

### Mantra: Test One Piece At A Time

In this book we test every component one piece at a time instead of the `react-testing-library` way of doing it. I don't mind this but I'm not sold.

## Chapter 4: Styling in JavaScript with Styled Components

Yeah yeah CSS is bad and styled components makes it better, WE KNOW!

### Packaging an App With Webpack

### Getting Started With Styled Components

### Testing Styled Components

### Mantra: Actively Seek Feedback

before you start writing a piece of code, ask yourself what the most valuable feedback you could receive for that code would be. Then take steps to make it a reality. In other words: “actively seek feedback.”

## Chapter 5: Refactoring with Higher-Order Components

Each Component should only have one job. If you have a component with more than one responsibility, it may be time to split it into multiple things or use some higher order components.

### Making Higher-Order Components

Simple Example:

```jsx
  const BindProps = (Component, boundProps) => {
    const ComponentWithBoundProps = props => (
      <Component {...props} {...boundProps}>
    );
    ComponentWithBoundProps.displayName = `BindProps(${Component.displayName || Component.name})`;
    return ComponentWithBoundProps
  };

  const CarouselWithTestAttr = BindProps(Carousel, { 'data-test-id': 'carousel'})
```

Here we've created a Carousel that gets passed a `data-test-id` attribute.

### The Controllable Pattern

### Stacking Higher-Order Components

### Inspecing Components With React DevTools

### Mantra: Keep The Unit Small
